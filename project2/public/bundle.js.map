{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://project2/./src/constants.js","webpack://project2/./src/listeners.js","webpack://project2/./src/render.js","webpack://project2/./src/services.js","webpack://project2/./src/state.js","webpack://project2/webpack/bootstrap","webpack://project2/webpack/runtime/define property getters","webpack://project2/webpack/runtime/hasOwnProperty shorthand","webpack://project2/webpack/runtime/make namespace object","webpack://project2/./src/main.js"],"sourcesContent":["// Constants benefits\r\n// - reduces risk of typos (IDE can code-complete)\r\n// - easier to confirm it is correct (easier to check properties than strings)\r\n// - If a value changes, you can change it in one place and the rest of the code can continue to use the constant\r\n\r\n// Might be SERVER_CODES and CLIENT_CODES if we had more and different constants\r\nexport const SERVER = {\r\n  AUTH_MISSING: 'auth-missing',\r\n  AUTH_INSUFFICIENT: 'auth-insufficient',\r\n  REQUIRED_USERNAME: 'required-username',\r\n  REQUIRED_TASK: 'required-task',\r\n  TASK_MISSING: 'noSuchId', // Someone was inconsistent!\r\n};\r\n\r\nexport const CLIENT = {\r\n  NETWORK_ERROR: 'networkError',\r\n  NO_SESSION: 'noSession',\r\n};\r\n\r\nexport const MESSAGES = {\r\n  // The [] below uses the variable value as the key\r\n  [CLIENT.NETWORK_ERROR]: 'Trouble connecting to the network.  Please try again',\r\n  // Here we use 'dog' to simulate a bad password\r\n  [SERVER.AUTH_INSUFFICIENT]: 'Your username/password combination does not match any records, please try again.',\r\n  [SERVER.REQUIRED_USERNAME]: 'Please enter a valid (letters and/or numbers) username',\r\n  [SERVER.REQUIRED_TASK]: 'Please enter the task to do',\r\n  default: 'Something went wrong.  Please try again',\r\n};\r\n","import {\r\n\tfetchLogin,\r\n\tfetchLoginUsers,\r\n\tfetchLogout,\r\n\tfetchMessages,\r\n\tfetchPostMessage,\r\n} from \"./services\";\r\nimport render from \"./render\";\r\nimport { login, logout, setError, setLoginUsers, setMessages } from \"./state\";\r\n\r\nexport function addLoginListener({ state, appEl }) {\r\n\tappEl.addEventListener(\"submit\", (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (!e.target.classList.contains(\"login-form\")) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst username = appEl.querySelector(\".login-username\").value;\r\n\t\t// Service call to login\r\n\t\tfetchLogin(username)\r\n\t\t\t.then((users) => {\r\n\t\t\t\tlogin(username);\r\n\t\t\t\tsetLoginUsers(users);\r\n\t\t\t\trender({ state, appEl });\r\n        return fetchMessages()\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetError(err?.error || \"ERROR\");\r\n\t\t\t\trender({ state, appEl });\r\n\t\t\t})\r\n\t\t\t// Fetch all messages\r\n\t\t\t.then((messages) => {\r\n\t\t\t\tlogin(username);\r\n\t\t\t\tsetMessages(messages);\r\n\t\t\t\tconsole.log(\"After fetch messages: \", { state });\r\n\t\t\t\trender({ state, appEl });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetError(err?.error || \"ERROR\");\r\n\t\t\t\trender({ state, appEl });\r\n\t\t\t});\r\n\t});\r\n}\r\n\r\nexport function addLogoutListener({ state, appEl }) {\r\n\tappEl.addEventListener(\"submit\", (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (!e.target.classList.contains(\"logout-form\")) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlogout();\r\n\t\trender({ state, appEl });\r\n\t\tfetchLogout().catch((err) => {\r\n\t\t\tsetError(err?.error || \"ERROR\");\r\n\t\t\trender({ state, appEl });\r\n\t\t});\r\n\t});\r\n}\r\n\r\nexport function addPostMessageListener({ state, appEl }) {\r\n\tappEl.addEventListener(\"submit\", (e) => {\r\n\t\tif (!e.target.classList.contains(\"chat-form\")) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst message = appEl.querySelector(\".message\").value;\r\n\t\tfetchPostMessage(message)\r\n\t\t\t.then((messages) => {\r\n\t\t\t\tsetMessages(messages);\r\n\t\t\t\trender({ state, appEl });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\tsetError(err?.error || \"ERROR\"); // Ensure that the error ends up truthy\r\n\t\t\t\trender({ state, appEl });\r\n\t\t\t});\r\n\t});\r\n}\r\n","export default function render({ state, appEl }) {\r\n\tconst html = `\r\n    ${getLoginHtml(state)}\r\n    ${getLogoutHtml(state)}\r\n    ${getOutgoingHtml(state)}\r\n    ${getUserList(state)}\r\n    ${getMessageList(state)}\r\n    `;\r\n\r\n\tappEl.innerHTML = html;\r\n}\r\n\r\nfunction getLoginHtml(state) {\r\n\tif (state.isLoggedIn) {\r\n\t\treturn state.username;\r\n\t}\r\n\treturn `\r\n    <div class=\"login\">\r\n        <form class=\"login-form\" action=\"#/login\">\r\n            <label class=\"form-label\">\r\n                <span>Username:</span>\r\n                <input class=\"login-username\" name=\"username\"/>\r\n            </label>\r\n            <button type=\"submit\" class=\"form-btn\">Submit</button>\r\n        </form>\r\n    </div>\r\n    `;\r\n}\r\n\r\nfunction getLogoutHtml(state) {\r\n\tif (!state.isLoggedIn) {\r\n\t\treturn \"\";\r\n\t}\r\n\treturn `\r\n    <div class=\"logout\">\r\n        <form class=\"logout-form\" action=\"#/logout\">\r\n            <button type=\"submit\" class=\"logout-btn\">Logout</button>\r\n        </form>\r\n    </div>\r\n    `;\r\n}\r\n\r\nfunction getOutgoingHtml(state) {\r\n\tif (!state.isLoggedIn) {\r\n\t\treturn \"\";\r\n\t}\r\n\treturn `\r\n    <div class=\"outgoing\">\r\n        <form class=\"chat-form\" action=\"/chat\" method=\"POST\">\r\n            <input class=\"message\" name=\"message\" value=\"\" placeholder=\"Enter message to send\"/>\r\n            <button type=\"submit\">Send</button>\r\n        </form>\r\n    </div>\r\n    `;\r\n}\r\n\r\nfunction getMessageList(state) {\r\n  if (!state.isLoggedIn) {\r\n\t\treturn \"\";\r\n\t}\r\n\tconst { messages } = state;\r\n  if (!messages) {\r\n    return \"\";\r\n  }\r\n\treturn (\r\n\t\t`<ol class=\"messages\">` +\r\n\t\tmessages\r\n\t\t\t.map(\r\n\t\t\t\t(message) => `\r\n        <li>\r\n          <div class=\"message\">\r\n            <div class=\"sender-info\">\r\n                <img class=\"avatar\" alt=\"avatar of ${message.sender}\" src=\"http://placekitten.com/150/150\"/>\r\n                <span class=\"username\">${message.sender}</span>\r\n            </div>\r\n            <p class=\"message-text\">${message.text}</p>\r\n          </div>\r\n        </li>\r\n      `\r\n\t\t\t)\r\n\t\t\t.join(\"\") +\r\n\t\t`</ol>`\r\n\t);\r\n}\r\n\r\nfunction getUserList(state) {\r\n  if (!state.isLoggedIn) {\r\n\t\treturn \"\";\r\n\t}\r\n\treturn (\r\n\t\t`<ul class=\"users\">` +\r\n\t\tObject.values(state.users)\r\n\t\t\t.map(\r\n\t\t\t\t(user) => `\r\n            <li>\r\n                <div class=\"user\">\r\n                <span class=\"username\">${user}</span>\r\n                </div>\r\n            </li>\r\n            `\r\n\t\t\t)\r\n\t\t\t.join(\"\") +\r\n\t\t`</ul>`\r\n\t);\r\n}\r\n","export function fetchLogin(username) {\r\n  console.log(\"call fetchLogin\")\r\n\treturn fetch(\"/api/v1/session/\", {\r\n\t\tmethod: \"POST\",\r\n\t\theaders: {\r\n\t\t\t\"content-type\": \"application/json\",\r\n\t\t},\r\n\t\tbody: JSON.stringify({ username }),\r\n\t})\r\n\t\t.catch((err) => Promise.reject({ error: \"network-error\" }))\r\n\t\t.then((response) => {\r\n\t\t\tif (!response.ok) {\r\n\t\t\t\treturn response.json().then((err) => Promise.reject(err));\r\n\t\t\t}\r\n      console.log(\"return value of fetchLogin:\", response.json())\r\n\t\t\treturn response\r\n\t\t\t\t.json()\r\n\t\t\t\t.catch((error) => Promise.reject({ error }))\r\n\t\t\t\t.then((err) => Promise.reject(err));\r\n\t\t});\r\n}\r\n\r\nexport function fetchLogout() {\r\n\treturn fetch(\"/api/v1/session\", {\r\n\t\tmethod: \"DELETE\",\r\n\t})\r\n\t\t.catch((err) => Promise.reject({ error: \"network-error\" }))\r\n\t\t.then((response) => {\r\n\t\t\tif (!response.ok) {\r\n\t\t\t\treturn response.json().then((err) => Promise.reject(err));\r\n\t\t\t}\r\n\t\t\treturn response.json();\r\n\t\t});\r\n}\r\n\r\nexport function fetchSession() {\r\n\treturn fetch(\"/api/v1/session\", {\r\n\t\tmethod: \"GET\",\r\n\t})\r\n\t\t.catch(() => Promise.reject({ error: \"networkError\" }))\r\n\t\t.then((response) => {\r\n\t\t\tif (response.ok) {\r\n\t\t\t\treturn response.json();\r\n\t\t\t}\r\n\t\t\treturn response\r\n\t\t\t\t.json()\r\n\t\t\t\t.catch((error) => Promise.reject({ error }))\r\n\t\t\t\t.then((err) => Promise.reject(err));\r\n\t\t});\r\n}\r\n\r\nexport function fetchLoginUsers() {\r\n\treturn fetch(\"/api/v1/users\", {\r\n\t\tmethod: \"GET\",\r\n\t})\r\n\t\t.catch((err) => Promise.reject({ error: \"network-error\" }))\r\n\t\t.then((response) => {\r\n\t\t\tif (response.ok) {\r\n\t\t\t\treturn response.json();\r\n\t\t\t}\r\n\t\t\treturn response\r\n\t\t\t\t.json()\r\n\t\t\t\t.catch((error) => Promise.reject({ error }))\r\n\t\t\t\t.then((err) => [Promise.reject(err)]);\r\n\t\t});\r\n}\r\n\r\nexport function fetchMessages() {\r\n\treturn fetch(\"/api/v1/messages\", {\r\n\t\tmethod: \"GET\",\r\n\t})\r\n\t\t.catch((err) => Promise.reject({ error: \"network-error\" }))\r\n\t\t.then((response) => {\r\n\t\t\tif (response.ok) {\r\n\t\t\t\treturn response.json();\r\n\t\t\t}\r\n\t\t\treturn response\r\n\t\t\t\t.json()\r\n\t\t\t\t.catch((error) => Promise.reject({ error }))\r\n\t\t\t\t.then((err) => [Promise.reject(err)]);\r\n\t\t});\r\n}\r\n\r\nexport function fetchPostMessage(message) {\r\n\treturn fetch(\"/api/v1/messages\", {\r\n\t\tmethod: \"POST\",\r\n\t\theaders: {\r\n\t\t\t\"content-type\": \"application/json\",\r\n\t\t},\r\n\t\tbody: JSON.stringify({ message }),\r\n\t})\r\n\t\t.catch((err) => Promise.reject({ error: \"network-error\" }))\r\n\t\t.then((response) => {\r\n\t\t\tif (!response.ok) {\r\n\t\t\t\treturn response.json().then((err) => Promise.reject(err));\r\n\t\t\t}\r\n\t\t\treturn response.json();\r\n\t\t});\r\n}\r\n","import { MESSAGES } from \"./constants\";\r\n\r\nconst state = {\r\n\tisLoggedIn: false,\r\n\tusername: \"\",\r\n\terror: \"\",\r\n\tusers: {\r\n\t\t// \"Amit\": \"Amit\",\r\n\t\t// \"Bob\": \"Bob\",\r\n\t},\r\n\tmessages: [\r\n\t\t// { sender: \"Amit\", text: \"You up?\" },\r\n\t\t// { sender: \"Bao\", text: \"Good\" },\r\n\t],\r\n};\r\n\r\nexport function login(username) {\r\n  console.log(\"login called\")\r\n\tstate.isLoggedIn = true;\r\n\tstate.username = username;\r\n\tstate.error = \"\";\r\n}\r\n\r\nexport function logout() {\r\n\tstate.isLoggedIn = false;\r\n\tstate.username = \"\";\r\n\tstate.error = \"\";\r\n}\r\n\r\nexport function setLoginUsers(data) {\r\n\tstate.users = data;\r\n}\r\n\r\nexport function setMessages(data) {\r\n\tstate.messages = data;\r\n}\r\n\r\nexport function setError(error) {\r\n\tstate.error = MESSAGES;\r\n}\r\n\r\nexport default state;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import render from \"./render\";\r\nimport state, { login, logout, setLoginUsers, setMessages, setError } from \"./state\";\r\nimport { addLoginListener, addLogoutListener, addPostMessageListener } from \"./listeners\";\r\nimport { SERVER, CLIENT } from './constants';\r\nimport { fetchSession, fetchLoginUsers, fetchMessages } from \"./services\";\r\n\r\n\r\nconst appEl = document.querySelector('#app');\r\nrender({ state, appEl });\r\naddLoginListener({ state, appEl });\r\naddLogoutListener({ state, appEl });\r\ncheckForSession();\r\n\r\nfunction checkForSession() {\r\n  // Fetch current user\r\n  fetchSession()\r\n  .then( session => {\r\n    login(session.username); \r\n    render({ state, appEl });            \r\n    return fetchLoginUsers(); \r\n  })\r\n  .catch( err => {\r\n    if( err?.error === SERVER.AUTH_MISSING ) {\r\n      return Promise.reject({ error: CLIENT.NO_SESSION }) \r\n    }\r\n    return Promise.reject(err); \r\n  })\r\n  // Fetch login users\r\n  .then( users => {\r\n    setLoginUsers(users);\r\n    render({ state, appEl });\r\n    return fetchMessages();\r\n  })\r\n  .catch( err => {\r\n    if( err?.error == CLIENT.NO_SESSION ) { \r\n      logout(); \r\n      render({ state, appEl });\r\n      return;\r\n    }\r\n    setError(err?.error || 'ERROR'); \r\n    render({ state, appEl });\r\n  })\r\n  // Fetch all messages\r\n  .then( messages => {\r\n    setMessages(messages);\r\n    render({ state, appEl });\r\n  })\r\n  .catch( err => {\r\n    setError(err?.error || 'ERROR'); \r\n    render({ state, appEl });\r\n  });\r\n}\r\n"],"names":["SERVER","AUTH_MISSING","AUTH_INSUFFICIENT","REQUIRED_USERNAME","REQUIRED_TASK","TASK_MISSING","CLIENT","NETWORK_ERROR","NO_SESSION","MESSAGES","_MESSAGES","_defineProperty","fetchLogin","fetchLoginUsers","fetchLogout","fetchMessages","fetchPostMessage","render","login","logout","setError","setLoginUsers","setMessages","addLoginListener","_ref","state","appEl","addEventListener","e","preventDefault","target","classList","contains","username","querySelector","value","then","users","err","error","messages","console","log","addLogoutListener","_ref2","addPostMessageListener","_ref3","message","html","concat","getLoginHtml","getLogoutHtml","getOutgoingHtml","getUserList","getMessageList","innerHTML","isLoggedIn","map","sender","text","join","Object","values","user","fetch","method","headers","body","JSON","stringify","Promise","reject","response","ok","json","fetchSession","data","document","checkForSession","session"],"sourceRoot":""}